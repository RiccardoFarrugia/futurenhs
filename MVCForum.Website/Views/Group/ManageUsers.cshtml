@using MvcForum.Core.ExtensionMethods
@using MvcForum.Core.Models.Enums
@using MvcForum.Core.Utilities
@using MvcForum.Web.ViewModels.Group
@using MvcForum.Web.ViewModels.Shared

@model GroupViewModel
@{
    Layout = "~/Views/Shared/_LayoutSideBar.cshtml";
    ViewBag.Title = Html.Raw(Model.Group.PageTitle ?? Model.Group.Name);
    ViewBag.MetaDesc = Model.Group.MetaDescription ?? StringUtils.StripHtmlFromString(Model.Group.Description);
    var totalCount = Convert.ToInt32(Model.TotalCount);
    ViewBag.Canonical = Html.Raw(AppHelpers.CanonicalPagingTag(totalCount, Html.Settings().TopicsPerPage, Html));


    const string displayNone = "style='display:none;'";
  
}
@section SocialMeta {
    <meta property="og:title" content="@ViewBag.Title" />
    <meta property="og:url" content="@HttpContext.Current.Request.Url.AbsoluteUri" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="@ViewBag.Title" />
    <meta name="twitter:description" content="@ViewBag.MetaDesc" />
}
@section side
{
    @Html.Partial("_CommonSideNav")
}

@Html.Action("GetGroupBreadcrumb", "Group", new { Group = Model.Group })

<div class="Group">

    <div class="mainheading clearfix">

        <h2>@Html.Raw(Model.Group.Name)</h2>
	    <h4>Manage Users</h4>
       
    </div>
	<table class="table table-bordered table-striped table-adaptive">
		<thead>
		<tr>
			<th>@Html.LanguageString("Members.Users")</th>
			<th>@Html.LanguageString("Members.Status")</th>
			<th>@Html.LanguageString("Members.Role")</th>
		</tr>
		</thead>
		<tbody>
			@foreach (var groupUser in Model.GroupUsers)
			{
				<tr>
					<td>
						<a href="@Url.Action("ManageUser",new{groupUserId =  groupUser.GroupUser.Id})">@groupUser.GroupUser.User.UserName</a>
					</td>
					<td>
						
					@groupUser.GroupUserStatus
				</td>
				<td>
					@groupUser.GroupUser.Role.RoleName
				</td>
			</tr>
		}
		</tbody>
	</table>

</div>
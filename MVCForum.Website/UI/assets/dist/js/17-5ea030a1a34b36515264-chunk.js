(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{315:function(e,t,n){"use strict";n.r(t),n.d(t,"uiComponentsInit",(function(){return r}));var o=n(321);const r=e=>{let t=void 0;var r;r=window.app_base+"Members/LastActiveCheck",$.getJSON(r);const a=document.querySelector(".js-site-header-nav");a&&n.e(4).then(n.bind(null,325)).then(({SiteHeaderNav:e})=>{new e({wrapperSelector:a})});const s=document.getElementById("js-toast");s&&n.e(15).then(n.bind(null,323)).then(({Toast:e})=>{var n,o,r;const a=null===(n=s.dataset)||void 0===n?void 0:n.message,l=(null===(o=s.dataset)||void 0===o?void 0:o.timeout)?parseInt(null===(r=s.dataset)||void 0===r?void 0:r.timeout,10):void 0;t=new e({wrapperSelector:s,timeOutMillis:l,messageText:a})}),n.e(9).then(n.bind(null,326)).then(({EmailSubscription:e})=>{new e({wrapperSelector:void 0},{components:{toast:t}})});const l=Array.from(document.querySelectorAll(".js-language-selector"));l.length>0&&n.e(11).then(n.bind(null,327)).then(({LanguageSwitcher:e})=>{l.forEach(n=>{const o=new e({wrapperSelector:n});o.on("success",()=>window.location.reload()),o.on("error",e=>null==t?void 0:t.show(e))})});const i=Array.from(document.getElementsByTagName("details"));(null==i?void 0:i.length)>0&&n.e(3).then(n.bind(null,336)).then(({Details:e})=>{i.forEach(t=>new e({wrapperSelector:t}))});const c=Array.from(document.querySelectorAll(".ajaxform form"));(null==c?void 0:c.length)>0&&n.e(6).then(n.bind(null,328)).then(({AjaxForm:e})=>{c.forEach(n=>{const o=new e({wrapperSelector:n});o.on("success",e=>{const{Success:n,ReturnMessage:o}=e;n?(window.closeSlideOutPanel(),null==t||t.show(o)):null==t||t.show(o)}),o.on("error",(e,n,o)=>{const{status:r}=e;null==t||t.show(`Error: ${r} ${o}`)})})});const d=Array.from(document.getElementsByClassName("admindashboard"));(null==d?void 0:d.length)>0&&n.e(5).then(n.bind(null,329)).then(({AdminDashboard:t})=>{new t({wrapperSelector:void 0,fetchTargets:e.adminClassNameEndPointMap}).bindDataToHtmlElements()});const u=Array.from(document.getElementsByClassName("tagstextarea"));(null==u?void 0:u.length)>0&&n.e(13).then(n.bind(null,330)).then(({TagsInput:t})=>{u.forEach(n=>{new t({wrapperSelector:n,tagsInputAdditionalConfig:e.tagsInputAdditionalConfig})})});const m=Array.from(document.getElementsByClassName("topicshow"));(null==m?void 0:m.length)>0&&n.e(0).then(n.bind(null,324)).then(({TopicPost:e})=>{m.forEach(n=>{var r;const a=null===(r=document.getElementById("Poll_Id"))||void 0===r?void 0:r.value;new e({pollId:a,fancyBoxTargetTypes:["gif","jpg","png","bmp","jpeg"],wrapperSelector:n},{fetchHelpers:o,components:{toast:t}})})});const p=[...Array.from(document.getElementsByClassName("createtopicholder")),...Array.from(document.getElementsByClassName("editpostholder"))];(null==p?void 0:p.length)>0&&n.e(7).then(n.bind(null,331)).then(({CreateTopic:e})=>{p.forEach(n=>{new e({wrapperSelector:n},{components:{toast:t}})})});const h=Array.from(document.getElementsByClassName("js-dialog"));(null==h?void 0:h.length)>0&&n.e(8).then(n.bind(null,332)).then(({Dialog:e})=>{h.forEach(t=>{new e({wrapperSelector:t})})});const g=Array.from(document.getElementsByClassName("js-loadmore"));(null==g?void 0:g.length)>0&&Promise.all([n.e(12).then(n.bind(null,333)),n.e(0).then(n.bind(null,324))]).then(([{LoadMoreButton:e},{TopicPost:n}])=>{g.forEach(r=>{const a=r.getAttribute("data-request-id"),s=r.getAttribute("data-target-id"),l=r.getAttribute("data-endpoint-type"),i=document.getElementById(s),c=parseInt(r.getAttribute("data-maxim-requests")),d=parseInt(r.getAttribute("data-request-index"))+1,u=new n({wrapperSelector:document},{fetchHelpers:o,components:{toast:t}}),m={getPostComments:u.bindFeaturesToPost,getThreadComments:u.bindFeaturesToPost};new e({getFetchUrl:e=>({getPostComments:`/topic/ajaxmoreposts/?TopicId=${a}&PageIndex=${e}`,getThreadComments:`/topic/ajaxmorepostsforthread/?TopicId=${a}&PageIndex=${e}`,getLatestTopics:`/group/LoadMoreTopics/?groupId=${a}&p=${e}`}[l]),requestIndex:d,maximRequests:c,wrapperSelector:r,appendTargetElement:i,requestSuccessCallback:m[l]},{fetchHelpers:o})})});const w=Array.from(document.getElementsByClassName("js-tinyMCE-container"));(null==w?void 0:w.length)>0&&n.e(14).then(n.bind(null,334)).then(({TinyMCE:e})=>{w.forEach(t=>{const n=t.getElementsByClassName("js-tinyMCE")[0].getAttribute("id"),o=window.tinyMCE.get(n);new e({validators:{notEmpty:e=>Boolean(e)},tinyMceAPI:o,wrapperSelector:t})})});const f=Array.from(document.getElementsByClassName("js-input-container"));(null==f?void 0:f.length)>0&&n.e(10).then(n.bind(null,335)).then(({Input:e})=>{f.forEach(t=>{new e({focusValidators:{notEmpty:e=>Boolean(e)},wrapperSelector:t})})})}},321:function(e,t,n){"use strict";n.r(t),n.d(t,"setFetchOptions",(function(){return o})),n.d(t,"fetchWithTimeOut",(function(){return r})),n.d(t,"fetchData",(function(){return a})),n.d(t,"getErrorMessageString",(function(){return s}));const o=e=>{var t,n,o;const r=e.method,a=null!==(t=e.customHeaders)&&void 0!==t?t:{},s=null!==(n=e.etag)&&void 0!==n?n:"*",l=e.body,i=null!==(o=e.contentType)&&void 0!==o?o:"application/json",c=new Headers(Object.assign({},{Accept:"application/json","Content-Type":i,"If-Match":s},a));"GET"!==r&&c.append("X-idempotency-key",Math.random().toString(36).substring(7));const d={method:r,credentials:"include",headers:c};return l&&"GET"!==r&&(d.body=JSON.stringify(l)),d},r=(e,t)=>{var n;const{url:o,options:r,timeOut:a}=e,s=null!==(n=null==t?void 0:t.fetch)&&void 0!==n?n:window.fetch;return Promise.race([s(o,r).then(e=>{if(!e.ok)throw new Error(`${e.status}: ${e.statusText}`);return e}),new Promise((e,t)=>setTimeout(()=>t(new Error("The request timed out")),a))])},a=e=>{const{options:t,dataType:n}=e;return r(e).then(e=>e.text().then(e=>{if(!e.trim())return null;if("html"===n)return e;let t="";try{t=JSON.parse(e)}catch(e){t=null}return t}))},s=e=>{if(!e)return;return e.message||"Unexpected error"};t.default={fetchData:a,fetchWithTimeOut:r,setFetchOptions:o,getErrorMessageString:s}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{313:function(t,e,s){"use strict";s.r(e),s.d(e,"topics",(function(){return u}));var r=s(324),i=s(323),n=s(321);const o=document.getElementById("js-toast"),a=new r.TopicPost({wrapperSelector:document},{fetchHelpers:n,components:{toast:new i.Toast({wrapperSelector:o})}}),u={changeCreatePostUI:a.changeCreatePostUI,postRequestInitiate:a.postRequestInitiate,postRequestSuccess:a.postRequestSuccess,postRequestError:a.postRequestError,postRequestFinally:a.postRequestFinally,bindFeaturesToPost:a.bindFeaturesToPost}},321:function(t,e,s){"use strict";s.r(e),s.d(e,"setFetchOptions",(function(){return r})),s.d(e,"fetchWithTimeOut",(function(){return i})),s.d(e,"fetchData",(function(){return n})),s.d(e,"getErrorMessageString",(function(){return o}));const r=t=>{var e,s,r;const i=t.method,n=null!==(e=t.customHeaders)&&void 0!==e?e:{},o=null!==(s=t.etag)&&void 0!==s?s:"*",a=t.body,u=null!==(r=t.contentType)&&void 0!==r?r:"application/json",c=new Headers(Object.assign({},{Accept:"application/json","Content-Type":u,"If-Match":o},n));"GET"!==i&&c.append("X-idempotency-key",Math.random().toString(36).substring(7));const h={method:i,credentials:"include",headers:c};return a&&"GET"!==i&&(h.body=JSON.stringify(a)),h},i=(t,e)=>{var s;const{url:r,options:i,timeOut:n}=t,o=null!==(s=null==e?void 0:e.fetch)&&void 0!==s?s:window.fetch;return Promise.race([o(r,i).then(t=>{if(!t.ok)throw new Error(`${t.status}: ${t.statusText}`);return t}),new Promise((t,e)=>setTimeout(()=>e(new Error("The request timed out")),n))])},n=t=>{const{options:e,dataType:s}=t;return i(t).then(t=>t.text().then(t=>{if(!t.trim())return null;if("html"===s)return t;let e="";try{e=JSON.parse(t)}catch(t){e=null}return e}))},o=t=>{if(!t)return;return t.message||"Unexpected error"};e.default={fetchData:n,fetchWithTimeOut:i,setFetchOptions:r,getErrorMessageString:o}},323:function(t,e,s){"use strict";s.r(e),s.d(e,"Toast",(function(){return i}));var r=s(316);class i extends r.a{constructor(t){var e,s;return super(t),this.wrapperSelector=void 0,this.timeOutMillis=void 0,this.messageText=void 0,this.isShowInProgress=!1,this.tmpShowInProgress=null,this.getMessageMarkup=t=>`<div class="alert alert-info fade in" role="alert">\n                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                    ${null!=t?t:this.messageText}\n                </div>`,this.show=t=>{const e=this.getMessageMarkup(t);this.wrapperSelector.innerHTML=e,$(this.wrapperSelector).show();const s=()=>{this.isShowInProgress=!1,$(this.wrapperSelector).fadeOut(),this.wrapperSelector.innerHTML=""};if(this.isShowInProgress)return clearTimeout(this.tmpShowInProgress),void(this.tmpShowInProgress=setTimeout(s,this.timeOutMillis));this.isShowInProgress=!0,this.tmpShowInProgress=setTimeout(s,this.timeOutMillis)},this.wrapperSelector=t.wrapperSelector,this.timeOutMillis=null!==(e=t.timeOutMillis)&&void 0!==e?e:5e3,this.messageText=null!==(s=t.messageText)&&void 0!==s?s:void 0,this.getMessageMarkup=this.getMessageMarkup.bind(this),this.show=this.show.bind(this),this.messageText&&this.show(),this}}}}]);